var tilly=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Column=void 0;class r{constructor(t,e){"string"==typeof t?(this.name=t,this.distinct=[],this.index=[]):(this.name=e||t.name,this.distinct=t.distinct,this.index=t.index),this.convert=t=>t}as(t){return new r(this,t)}to(t){return this.convert=t,this}insert(t,e){let n=this.distinct.indexOf(t);-1===n&&(this.distinct[n=this.distinct.length]=t);for(const t of e)this.index[t]=n}value(t){return this.convert(this.distinct[this.index[t]])}evaluate(t){return()=>e=>t(this.value(e))}in(t){return()=>{const e=[];for(let n=t.length;n--;){const r=this.distinct.indexOf(t[n]);-1!==r&&e.push(r)}return t=>-1!==e.indexOf(this.index[t])}}equals(t){return()=>{let e=this.distinct.indexOf(t);return t=>this.index[t]===e}}}e.Column=r},function(t,e,n){t.exports=n(2)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0);Object.defineProperty(e,"Column",{enumerable:!0,get:function(){return r.Column}});var i=n(3);Object.defineProperty(e,"Table",{enumerable:!0,get:function(){return i.Table}});var o=n(4);Object.defineProperty(e,"Query",{enumerable:!0,get:function(){return o.Query}});var s=n(5);Object.defineProperty(e,"and",{enumerable:!0,get:function(){return s.and}}),Object.defineProperty(e,"not",{enumerable:!0,get:function(){return s.not}}),Object.defineProperty(e,"or",{enumerable:!0,get:function(){return s.or}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Table=void 0;const r=n(0);e.Table=class{constructor(t){"string"==typeof t?(this.name=t,this.columns=[],this.rowCount=0):(this.name=t.name,this.columns=t.columns.map(t=>new r.Column(t)),this.rowCount=t.rowCount)}add(...t){if(this.columns.push(...t),this.rowCount)for(const e of t)e.insert(null,this.indices())}insert(t){for(const e of this.columns)e.insert(t[e.name]||null,[this.rowCount]);this.rowCount++}column(t){return this.columns.find(e=>e.name===t)}*indices(){for(let t=0;t<this.rowCount;t++)yield t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Query=void 0;class r{constructor(t){this.source=t,this.condition=()=>t=>!0,this.columns=[]}select(...t){return this.columns=t,this}where(t){return this.condition=t,this}*indices(){const t=this.condition();for(const e of this.source.indices())t(e)&&(yield e)}*[Symbol.iterator](){for(const t of this.indices()){const e={};for(const n of this.columns)e[n.name]=n.value(t);yield e}}}e.Query=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.not=e.or=e.and=void 0,e.and=function(...t){return()=>{const e=t.map(t=>t());return t=>e.every(e=>e(t))}},e.or=function(...t){return()=>{const e=t.map(t=>t());return t=>e.some(e=>e(t))}},e.not=function(t){return()=>{const e=t();return t=>!e(t)}}}]);